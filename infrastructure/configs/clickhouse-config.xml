<?xml version="1.0"?>
<clickhouse>
    <!-- PostHog cluster configuration -->
    <remote_servers>
        <posthog>
            <shard>
                <replica>
                    <host>clickhouse</host>
                    <port>9000</port>
                </replica>
            </shard>
        </posthog>
        <posthog_migrations>
            <shard>
                <replica>
                    <host>clickhouse</host>
                    <port>9000</port>
                </replica>
            </shard>
        </posthog_migrations>
    </remote_servers>

    <!-- Required for PostHog -->
    <profiles>
        <default>
            <max_memory_usage>10000000000</max_memory_usage>
            <use_uncompressed_cache>0</use_uncompressed_cache>
            <load_balancing>random</load_balancing>
        </default>
    </profiles>

    <!-- Macros for distributed tables -->
    <macros>
        <shard>01</shard>
        <replica>01</replica>
    </macros>

</clickhouse>
