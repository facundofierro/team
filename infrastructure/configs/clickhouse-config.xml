<?xml version="1.0"?>
<clickhouse>
    <!-- Single-node ClickHouse configuration for PostHog -->
    <!-- Minimal cluster definitions required for PostHog migrations -->

    <remote_servers>
        <!-- Single shard/replica pointing to localhost -->
        <posthog>
            <shard>
                <replica>
                    <host>clickhouse</host>
                    <port>9000</port>
                </replica>
            </shard>
        </posthog>
        <!-- Required for PostHog migrations -->
        <posthog_migrations>
            <shard>
                <replica>
                    <host>clickhouse</host>
                    <port>9000</port>
                </replica>
            </shard>
        </posthog_migrations>
    </remote_servers>

    <!-- ZooKeeper configuration for single-node setup -->
    <zookeeper>
        <node>
            <host>zookeeper</host>
            <port>2181</port>
        </node>
    </zookeeper>

    <!-- Macros for compatibility with PostHog migrations -->
    <macros>
        <shard>01</shard>
        <replica>01</replica>
    </macros>

</clickhouse>
